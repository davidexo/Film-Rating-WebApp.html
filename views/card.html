{% block content %}

<li data-rating="{{movie['rating']}}"
    class="flex flex-col rounded-lg shadow-lg overflow-hidden transition ease-out duration-200 transform hover:scale-105">
    <a href="/movie/{{movie['id']}}">
        <div class="flex-shrink-0 relative">
            {% if movie['image'] %}
            <img class="h-96 w-full object-cover" src="/{{movie['image']}}" alt="">
            {% endif %}
        </div>
    </a>
    <div class="flex-1 relative bg-white p-6  justify-between">
        {% if movie['isFavorite'] and authenticated %}
        <a href="movie/{{movie['id']}}/fav">
            <button class="focus:outline-none fav-button absolute bg-indigo-200 top-4 right-4 rounded-full">
                <svg class="text-indigo-600  w-12 h-12 px-2 py-2 " fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                    </path>
                </svg>
            </button>
        </a>
        {% elseif movie['isFavorite'] == false and authenticated %}
        <a href="movie/{{movie['id']}}/fav">
            <button class="focus:outline-none fav-button absolute bg-gray-100 top-4 right-4 rounded-full">
                <svg class="text-gray-600  w-12 h-12 px-2 py-2 " fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                    </path>
                </svg>
            </button>
        </a>

        {% endif %}
        <div class="flex-1">
            <p class="text-sm font-medium text-indigo-600">
                {{movie['tags']}}
            </p>
            <a href="/movie/{{movie['id']}}" class="block mt-2">
                <p class="text-xl font-semibold text-gray-900">
                    {{movie['title']}}
                </p>
            </a>
        </div>
        <div class="flex items-center">
            <div class="flex-shrink-0">
                <a href="#">
                    <span class="sr-only">Roel Aufderehar</span>
                </a>
            </div>
            <div>
                <p class="text-base font-medium text-gray-900 rating py-2">
                    {% if movie['rating'] %}
                    {{movie['rating']}} / 10
                    {% else %}
                    Noch keine Bewertung
                    {% endif %}
                </p>
                {% if movie['imdb'] %}
                <a href="{{movie['imdb']}}" target="_blank" rel="noopener noreferrer"
                    class="inline-flex items-center px-3 py-1 rounded-full text-s font-medium bg-yellow-100 text-gray-800">
                    Imdb
                </a>
                {% endif %}
                {% if movie['rottentomatoes'] %}
                <a href="{{movie['rottentomatoes']}}" target="_blank" rel="noopener noreferrer"
                    class="inline-flex items-center px-3 py-1 rounded-full text-s font-medium bg-red-100 text-gray-800">
                    Rotten Tomatoes
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</li>

<script>
    function favorite(button) {
        window.location.href = 'movie/' + button.id + '/fav';
    }
</script>

{% endblock %}